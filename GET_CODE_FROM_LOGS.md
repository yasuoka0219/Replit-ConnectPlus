# ログから認証コードを確認する方法

## 🔍 サーバーエラーが発生しても、認証コードはログに表示されます

メール送信に失敗しても、認証コードはデータベースに保存され、ログに表示されます。

---

## 📋 ログから認証コードを確認する手順

### ステップ1: Railwayのログを開く

1. **Railwayダッシュボードを開く**
   - https://railway.app にアクセス
   - プロジェクトを選択
   - 「web」サービスを選択

2. **「HTTP Logs」タブを開く**
   - 左サイドバーまたは上部のタブから「HTTP Logs」を選択

### ステップ2: 認証コードを検索

1. **検索バーで検索**
   - 検索バーに `認証コード` と入力
   - または、`[2FA Setup]` と入力

2. **認証コードを探す**
   - 以下のようなログを探してください：

```
[2FA Setup] 認証コード（ログから確認）: 123456
```

または

```
[2FA Email] 認証コード: 123456
```

3. **認証コードをコピー**
   - ログに表示されている6桁の数字をコピー

### ステップ3: 認証コードを入力

1. **2段階認証設定画面に戻る**
   - アプリケーションの「設定」→「2段階認証設定」画面

2. **認証コードを入力**
   - ログからコピーした6桁の認証コードを入力

3. **「確認して有効にする」をクリック**
   - 2段階認証が有効になります

---

## 🔍 ログが見つからない場合

### 検索方法を変える

1. **検索バーで検索**
   - `[2FA` と入力
   - または、`Code ID` と入力

2. **時間範囲を確認**
   - ログの時間範囲を確認
   - 2段階認証設定を試した時刻のログを確認

3. **「Deploy Logs」も確認**
   - 「Deploy Logs」タブも開いて確認
   - アプリケーションの起動ログに認証コードが表示される場合があります

---

## 💡 補足情報

### 認証コードの有効期限

- 認証コードは10分間有効です
- ログから認証コードを確認したら、すぐに入力してください

### 認証コードの再生成

- 認証コードを再生成する場合は、再度「2段階認証を設定する（メール認証）」をクリック
- 新しい認証コードが生成され、ログに表示されます

---

## 📋 チェックリスト

- [ ] Railwayの「HTTP Logs」を開く
- [ ] 検索バーに `認証コード` と入力
- [ ] ログから認証コードを確認
- [ ] 認証コードをコピー
- [ ] 2段階認証設定画面で認証コードを入力
- [ ] 「確認して有効にする」をクリック

---

**まず、Railwayの「HTTP Logs」で `認証コード` と検索して、ログに表示されている認証コードを確認してください！**
