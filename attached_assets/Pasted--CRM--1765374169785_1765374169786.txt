あなたは、すでに存在している中小企業向けCRMアプリ（企業情報・案件情報・ダッシュボードがある）を、安全に拡張するエンジニアです。

目的：
営業の分析精度を高めるために、既存の「企業」「案件」「活動ログ」のスキーマを拡張し、必要なマスタを追加してください。既存機能を壊さず、参照元の取り違えが起きないように慎重に実装してください。

前提：
- すでに「企業情報」「案件情報」を管理するテーブルやモデルが存在している想定です（例：Company / Deal / Activity のような名前）。
- 実際のテーブル名やフィールド名は必ずコードから確認し、似た役割のカラムがあれば再利用し、なければ新規追加してください。
- 既存のデータを壊さないように、破壊的変更（カラム削除・型変更）はせず、「カラム追加」「マスタテーブル追加」「マイグレーション追加」で対応してください。

やってほしいこと：

1. 企業（Company）に以下の情報を追加・整理する
   - 業界（industry）
     - マスタから選択できるようにする（Industryマスタテーブルが無ければ追加）
     - 例：IT・SaaS、製造、小売、飲食、サービス、医療・福祉 など
   - 企業規模（company_size）
     - 従業員数レンジなどの選択肢（例：〜10名、11〜50名、51〜100名、101〜300名、301名〜）
     - こちらもマスタテーブルかEnumのいずれかで管理
   - エリア（area）
     - 都道府県＋エリア区分など。文字列 or マスタ
   - 顧客ステータス（customer_status）
     - 「新規 / 既存 / 休眠」などの区分。Enumまたはマスタ参照

2. 案件（Deal / Opportunity）に以下の情報を追加・整理する
   - リードソース（lead_source）
     - 例：紹介、Webサイト、広告、展示会、テレアポ、代理店 など
     - LeadSourceマスタテーブルかEnumで管理
   - 商談ステージ（stage）
     - 例：リード / アポ取得 / ヒアリング / 見積・提案 / 最終調整 / 受注 / 失注
     - Stageマスタテーブルが無ければ追加し、既存ステータスとマッピングする
   - 新規/既存区分（new_or_existing）
     - 「新規案件 / 既存案件」を区別するフラグ
     - 企業のcustomer_statusと矛盾しないように初期値を設定
   - 受注・失注関連
     - 受注金額（amount）※既存があればそのまま利用
     - 粗利（gross_profit）※無ければ追加（あとから計算できるように）
     - 受注日（won_date）
     - 失注日（lost_date）
     - 見込ランク（probability_rank）（A / B / Cや数値など）
     - 失注理由（lost_reason）
       - LostReasonマスタ（価格、予算不足、競合優位、タイミング合わず、社内稟議NG、検討中止 など）を参照
     - 競合名（competitor_name）（任意文字列）
   - サイクルタイム用日付
     - 初回接触日（first_contact_date）
     - 提案日（proposal_date）
     - 上記を元にリードタイムを計算できるようにする

3. 活動ログ（Activity）テーブルが無い場合は追加する
   - 無ければActivity（または同等の名前）として新規テーブルを作成
   - カラム例：
     - related_company_id（企業への外部キー）
     - related_deal_id（案件への外部キー、案件が無くても企業だけ紐付け可能にする）
     - user_id（担当者への外部キー）
     - date（活動日）
     - type（活動種別：電話 / メール / オンライン商談 / 訪問 / 提案書作成 などのEnumまたはマスタ）
     - count（件数、デフォルト1）
     - duration_minutes（所要時間。電話や商談の合計分数）
     - memo（任意メモ）

4. マスタテーブルの実装方針
   - Industry / LeadSource / Stage / LostReason / ActivityType などのマスタテーブルを追加する場合：
     - ID（主キー）、表示名（name）、並び順（sort_order）などのシンプルな構成にする
     - アプリの管理画面から増減できる設計だとベストだが、難しければ固定Seedでも良い
   - 既存に似たマスタがある場合は統合し、重複を避ける

5. 実装上の注意
   - 既存コードベース・フレームワーク（Flask/Express/Nextなど）はそのまま使い、構成を変えないこと
   - 既存のAPIエンドポイントを壊さないこと。必要なら後方互換性のある形でレスポンスを拡張する
   - マイグレーションが必要な場合は、安全なマイグレーションファイルを作成し、既存データにNULLが入っても動くようにする
   - フロントエンドに新フィールドを追加するのは、次のプロンプトで指示するので、ここでは主にバックエンドとスキーマ定義までを行うこと

以上を踏まえて、既存コードを読み取りながら、スキーマとマスタの追加・拡張を丁寧に実装してください。